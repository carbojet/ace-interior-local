{"ast":null,"code":"import mongoose from 'mongoose';\nconst connection = {\n  isConnected: false\n};\n\nasync function dbConnect() {\n  if (connection.isConnected) {\n    return;\n  }\n\n  const db = await mongoose.connect(process.env.SHOPIFY_MONGO_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  });\n  connection.isConnected = db.connections[0].readyState;\n  console.log(connection.isConnected);\n}\n\nexport default dbConnect;","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/lib/mongoose/dbConnect.js"],"names":["mongoose","connection","isConnected","dbConnect","db","connect","process","env","SHOPIFY_MONGO_URI","useNewUrlParser","useUnifiedTopology","connections","readyState","console","log"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,MAAMC,UAAU,GAAG;AACfC,EAAAA,WAAW,EAAE;AADE,CAAnB;;AAGA,eAAeC,SAAf,GAA0B;AACtB,MAAGF,UAAU,CAACC,WAAd,EAA0B;AACtB;AACH;;AAED,QAAME,EAAE,GAAG,MAAMJ,QAAQ,CAACK,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,iBAA7B,EAA+C;AAC5DC,IAAAA,eAAe,EAAC,IAD4C;AAE5DC,IAAAA,kBAAkB,EAAC;AAFyC,GAA/C,CAAjB;AAKAT,EAAAA,UAAU,CAACC,WAAX,GAAyBE,EAAE,CAACO,WAAH,CAAe,CAAf,EAAkBC,UAA3C;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYb,UAAU,CAACC,WAAvB;AACH;;AAED,eAAeC,SAAf","sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst connection = {\r\n    isConnected: false\r\n};\r\nasync function dbConnect(){\r\n    if(connection.isConnected){\r\n        return;\r\n    }\r\n\r\n    const db = await mongoose.connect(process.env.SHOPIFY_MONGO_URI,{\r\n        useNewUrlParser:true,\r\n        useUnifiedTopology:true,\r\n    })\r\n\r\n    connection.isConnected = db.connections[0].readyState;\r\n    console.log(connection.isConnected)\r\n}\r\n\r\nexport default dbConnect;"]},"metadata":{},"sourceType":"module"}