{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\novostack\\\\shopify\\\\apps\\\\ns-nextjs-shopify\\\\lib\\\\graphql\\\\AddNewProduct.js\";\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/react-hooks'; //import store from 'store-js';\n\nconst ADD_NEW_PRODUCT = gql`\n    mutation addNewProduct($input: ProductInput!, $media: [CreateMediaInput!]!) {\n        productCreate(input: $input, media:$media) {\n            product {\n                id\n                title\n                description\n                featuredImage {\n                    id\n                }\n            }\n        }\n    }\n`;\n\nfunction AddNewProduct(product) {\n  const inputs = {\n    title: product.title,\n    descriptionHtml: product.description\n  };\n  const images = [{\n    originalSource: product.image,\n    alt: \"Sample image testing\",\n    mediaContentType: \"IMAGE\"\n  }];\n  const {\n    loading,\n    error,\n    data\n  } = useMutation(ADD_NEW_PRODUCT, {\n    variables: {\n      input: inputs,\n      media: images\n    }\n  });\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 23\n  }, this);\n  console.log('stored products', data.products.edges);\n}\n\nexport default AddNewProduct;","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/lib/graphql/AddNewProduct.js"],"names":["gql","useMutation","ADD_NEW_PRODUCT","AddNewProduct","product","inputs","title","descriptionHtml","description","images","originalSource","image","alt","mediaContentType","loading","error","data","variables","input","media","message","console","log","products","edges"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,aAAhB;AACA,SAASC,WAAT,QAA4B,qBAA5B,C,CACA;;AAGA,MAAMC,eAAe,GAAGF,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAbA;;AAgBA,SAASG,aAAT,CAAwBC,OAAxB,EAAgC;AAC5B,QAAMC,MAAM,GAAG;AACXC,IAAAA,KAAK,EAAGF,OAAO,CAACE,KADL;AAEXC,IAAAA,eAAe,EAACH,OAAO,CAACI;AAFb,GAAf;AAIA,QAAMC,MAAM,GAAG,CACX;AACIC,IAAAA,cAAc,EAACN,OAAO,CAACO,KAD3B;AAEIC,IAAAA,GAAG,EAAC,sBAFR;AAGIC,IAAAA,gBAAgB,EAAC;AAHrB,GADW,CAAf;AAOA,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAAyBf,WAAW,CAACC,eAAD,EAAkB;AAAEe,IAAAA,SAAS,EAAE;AAAEC,MAAAA,KAAK,EAAEb,MAAT;AAAgBc,MAAAA,KAAK,EAACV;AAAtB;AAAb,GAAlB,CAA1C;AACA,MAAIK,OAAJ,EAAa,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA,cAAMA,KAAK,CAACK;AAAZ;AAAA;AAAA;AAAA;AAAA,UAAP;AACXC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8BN,IAAI,CAACO,QAAL,CAAcC,KAA5C;AACH;;AACD,eAAerB,aAAf","sourcesContent":["import gql from 'graphql-tag';\r\nimport { useMutation } from '@apollo/react-hooks';\r\n//import store from 'store-js';\r\n\r\n\r\nconst ADD_NEW_PRODUCT = gql`\r\n    mutation addNewProduct($input: ProductInput!, $media: [CreateMediaInput!]!) {\r\n        productCreate(input: $input, media:$media) {\r\n            product {\r\n                id\r\n                title\r\n                description\r\n                featuredImage {\r\n                    id\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\n\r\nfunction AddNewProduct (product){\r\n    const inputs = {\r\n        title : product.title,\r\n        descriptionHtml:product.description\r\n    }\r\n    const images = [\r\n        {\r\n            originalSource:product.image,\r\n            alt:\"Sample image testing\",\r\n            mediaContentType:\"IMAGE\"\r\n        }\r\n    ];\r\n    const {loading, error, data} = useMutation(ADD_NEW_PRODUCT, { variables: { input: inputs,media:images } });\r\n    if (loading) return <div>loading...</div>\r\n    if (error) return <div>{error.message}</div>\r\n    console.log('stored products',data.products.edges);    \r\n}\r\nexport default AddNewProduct;"]},"metadata":{},"sourceType":"module"}