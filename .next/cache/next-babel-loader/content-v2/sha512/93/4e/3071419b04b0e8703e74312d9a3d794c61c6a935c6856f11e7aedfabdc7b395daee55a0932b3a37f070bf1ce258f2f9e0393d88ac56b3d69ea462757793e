{"ast":null,"code":"import dbConnect from '../../../lib/mongoose/dbConnect';\nimport Product from '../../../lib/mongoose/Product';\ndbConnect();\nexport default (async (req, res) => {\n  res.json({\n    test: 'test'\n  });\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case 'GET':\n      try {\n        const products = await Product.find({});\n        res.status(200).json({\n          success: true,\n          data: products\n        });\n      } catch (error) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    case 'POST':\n      try {\n        const product = await Product.create(req.body);\n        res.status(201).json({\n          success: true,\n          data: product\n        });\n      } catch (error) {\n        res.status(400).json({\n          success: false\n        });\n      }\n\n      break;\n\n    default:\n      res.status(400).json({\n        success: false\n      });\n      break;\n  }\n});","map":{"version":3,"sources":["E:/novostack/shopify/apps/ns-nextjs-shopify/pages/api/products/index.js"],"names":["dbConnect","Product","req","res","json","test","method","products","find","status","success","data","error","product","create","body"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,iCAAtB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AAEAD,SAAS;AAET,gBAAe,OAAOE,GAAP,EAAWC,GAAX,KAAmB;AAC9BA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAACC,IAAAA,IAAI,EAAC;AAAN,GAAT;AACA,QAAM;AAACC,IAAAA;AAAD,MAAWJ,GAAjB;;AACA,UAAOI,MAAP;AACI,SAAK,KAAL;AACI,UAAG;AACC,cAAMC,QAAQ,GAAG,MAAMN,OAAO,CAACO,IAAR,CAAa,EAAb,CAAvB;AACAL,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAACM,UAAAA,OAAO,EAAC,IAAT;AAAcC,UAAAA,IAAI,EAACJ;AAAnB,SAArB;AACH,OAHD,CAGC,OAAMK,KAAN,EAAY;AACTT,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAACM,UAAAA,OAAO,EAAC;AAAT,SAArB;AACH;;AACD;;AACJ,SAAK,MAAL;AACI,UAAG;AACC,cAAMG,OAAO,GAAG,MAAMZ,OAAO,CAACa,MAAR,CAAeZ,GAAG,CAACa,IAAnB,CAAtB;AAEAZ,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAACM,UAAAA,OAAO,EAAC,IAAT;AAAcC,UAAAA,IAAI,EAACE;AAAnB,SAArB;AAEH,OALD,CAKC,OAAMD,KAAN,EAAY;AACTT,QAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAACM,UAAAA,OAAO,EAAC;AAAT,SAArB;AACH;;AACD;;AACJ;AACIP,MAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAACM,QAAAA,OAAO,EAAC;AAAT,OAArB;AACA;AArBR;AAuBH,CA1BD","sourcesContent":["import dbConnect from '../../../lib/mongoose/dbConnect';\r\nimport Product from '../../../lib/mongoose/Product';\r\n\r\ndbConnect();\r\n\r\nexport default async (req,res) => {\r\n    res.json({test:'test'})\r\n    const {method} = req;\r\n    switch(method){\r\n        case 'GET':\r\n            try{\r\n                const products = await Product.find({})\r\n                res.status(200).json({success:true,data:products})\r\n            }catch(error){\r\n                res.status(400).json({success:false})\r\n            }\r\n            break;\r\n        case 'POST':\r\n            try{\r\n                const product = await Product.create(req.body)\r\n\r\n                res.status(201).json({success:true,data:product})\r\n\r\n            }catch(error){\r\n                res.status(400).json({success:false})\r\n            }\r\n            break;\r\n        default:\r\n            res.status(400).json({success:false})\r\n            break;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}