{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _taggedTemplateLiteral from \"E:/mahendra/shopify app/cj-cps/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"E:\\\\mahendra\\\\shopify app\\\\cj-cps\\\\components\\\\ProductList.js\",\n    _s = $RefreshSig$();\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\nquery getProducts($row:Int!){\\n  products(first:$row) {\\n    edges {\\n      cursor\\n      node {\\n        id\\n        title\\n        images(first:1){\\n          edges{\\n            node{\\n              id\\n              originalSrc\\n            }\\n          }\\n        }\\n        variants(first:1){\\n          edges{\\n            node{\\n              price\\n            }\\n          }\\n        }\\n        totalInventory\\n      }\\n    }\\n    pageInfo {\\n      hasNextPage\\n      hasPreviousPage\\n    }\\n  }\\n}\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\nimport { Card, IndexTable, useIndexResourceState } from '@shopify/polaris';\nvar GET_FIRST_PRODUCTS = gql(_templateObject());\n\nfunction ProductList() {\n  _s();\n\n  var _this = this;\n\n  var resourceName = {\n    singular: 'Product',\n    plural: 'Products'\n  };\n\n  var _useQuery = useQuery(GET_FIRST_PRODUCTS, {\n    variables: {\n      row: 20\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 23\n  }, this); //console.log('stored products',data.products.edges);  \n\n  var _useIndexResourceStat = useIndexResourceState(data.products.edges),\n      selectedResources = _useIndexResourceStat.selectedResources,\n      allResourcesSelected = _useIndexResourceStat.allResourcesSelected,\n      handleSelectionChange = _useIndexResourceStat.handleSelectionChange;\n\n  var rowMarkup = data.products.edges.map(function (_ref, index) {\n    var item = _ref.item;\n    return /*#__PURE__*/_jsxDEV(IndexTable.Row, {\n      id: item.node.id,\n      selected: selectedResources.includes(item.node.id),\n      position: index,\n      children: [/*#__PURE__*/_jsxDEV(IndexTable.Cell, {\n        children: /*#__PURE__*/_jsxDEV(Thumbnail, {\n          source: item.node.images.edges[0] ? item.node.images.edges[0].node.originalSrc : '',\n          alt: item.node.images.edges[0] ? item.node.images.edges[0].node.altText : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(IndexTable.Cell, {\n        children: item.node.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(IndexTable.Cell, {\n        children: item.node.variants.edges[0].node.price\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, _this)]\n    }, item.node.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, _this);\n  });\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(IndexTable, {\n      resourceName: resourceName,\n      itemCount: data.products.edges.length,\n      selectedItemsCount: allResourcesSelected ? 'All' : selectedResources.length,\n      onSelectionChange: handleSelectionChange,\n      headings: [{\n        title: 'Image'\n      }, {\n        title: 'Title'\n      }, {\n        title: 'Price'\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductList, \"LY4s6mgmYKebAVeC6wkkf5a3IDk=\", false, function () {\n  return [useQuery, useIndexResourceState];\n});\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["E:/mahendra/shopify app/cj-cps/components/ProductList.js"],"names":["gql","useQuery","Card","IndexTable","useIndexResourceState","GET_FIRST_PRODUCTS","ProductList","resourceName","singular","plural","variables","row","loading","error","data","message","products","edges","selectedResources","allResourcesSelected","handleSelectionChange","rowMarkup","map","index","item","node","id","includes","images","originalSrc","altText","title","variants","price","length"],"mappings":"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","sourcesContent":["import gql from 'graphql-tag';\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport { Card,IndexTable,useIndexResourceState } from '@shopify/polaris';\r\n\r\n\r\nconst GET_FIRST_PRODUCTS = gql`\r\nquery getProducts($row:Int!){\r\n  products(first:$row) {\r\n    edges {\r\n      cursor\r\n      node {\r\n        id\r\n        title\r\n        images(first:1){\r\n          edges{\r\n            node{\r\n              id\r\n              originalSrc\r\n            }\r\n          }\r\n        }\r\n        variants(first:1){\r\n          edges{\r\n            node{\r\n              price\r\n            }\r\n          }\r\n        }\r\n        totalInventory\r\n      }\r\n    }\r\n    pageInfo {\r\n      hasNextPage\r\n      hasPreviousPage\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nfunction ProductList (){\r\n    const resourceName = {\r\n      singular: 'Product',\r\n      plural: 'Products',\r\n    };\r\n    \r\n    const {loading, error, data} = useQuery(GET_FIRST_PRODUCTS, { variables: { row: 20 } });\r\n    if (loading) return <div>loading...</div>\r\n    if (error) return <div>{error.message}</div>\r\n    //console.log('stored products',data.products.edges);  \r\n    const {\r\n      selectedResources,\r\n      allResourcesSelected,\r\n      handleSelectionChange,\r\n    } = useIndexResourceState(data.products.edges);\r\n\r\n    const rowMarkup = data.products.edges.map(\r\n      ({item}, index) => (\r\n        <IndexTable.Row\r\n          id={item.node.id}\r\n          key={item.node.id}\r\n          selected={selectedResources.includes(item.node.id)}\r\n          position={index}\r\n        >\r\n          <IndexTable.Cell>\r\n            <Thumbnail \r\n                source={\r\n                    item.node.images.edges[0] ? item.node.images.edges[0].node.originalSrc :''\r\n                }\r\n                alt={\r\n                    item.node.images.edges[0] ? item.node.images.edges[0].node.altText : ''\r\n                }\r\n            />\r\n          </IndexTable.Cell>\r\n          <IndexTable.Cell>{item.node.title}</IndexTable.Cell>\r\n          <IndexTable.Cell>{item.node.variants.edges[0].node.price}</IndexTable.Cell>\r\n        </IndexTable.Row>\r\n      ),\r\n    );\r\n    return(\r\n        <Card>\r\n          <IndexTable\r\n            resourceName={resourceName}\r\n            itemCount={data.products.edges.length}\r\n            selectedItemsCount={\r\n              allResourcesSelected ? 'All' : selectedResources.length\r\n            }\r\n            onSelectionChange={handleSelectionChange}\r\n            headings={[\r\n              {title: 'Image'},\r\n              {title: 'Title'},\r\n              {title: 'Price'},\r\n            ]}  \r\n          >\r\n          </IndexTable>\r\n        </Card>\r\n    )\r\n    \r\n}\r\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}